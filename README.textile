h1. Sqwidget Builder

h2. An asset optimisation tool

h3. Workflow
 
# Compresses GIF,PNG,and JPEG image files using third party tools.
# Concatenates and minifies css and javascript files using YUI Compressor or Google closures. 
# Embeds inline image assets into stylesheet using data:uris and mhtml syntax.
# Peerforms sqwidget-specific optimisations.
# (Possibily) tries to detect the html file from where the main css is linked and replace the path of the old css with the path of the optimised one


h3. Current Status

This code is currently in Pre-alpha state. While Sqwidwget-builder does not provide yet user interface whatsoever, a command line and a possibily a web-based interface are on the way.

h3. Requirements

 (assuming that you are running Ubuntu Linux )

* @apt-get install gifsicle@
* @apt-get install pngcrush@
* @apt-get install libjpeg-progs@

* @apt-get install rubygems@
* @gem install yui-compressor@
* @gem install closure-compiler@
 (required only for running tests)
* @gem install rspec@

h3. Running it

In order to reproduce the same directory structure that I am currently
using while developing/testing the compressor, download Polpo, a Drupal theme
(This was a random  choice, as the basic asset-compression functionality should work 
on any kind of directory structure containing images, javascript and css files).  
Uncompress it, and place it into spec/test_dir.

*  @wget http://ftp.drupal.org/files/projects/polpo-6.x-1.1.tar.gz@ 
*  @tar zxvf polpo-6.x-1.1.tar.gz@
*  @mv polpo spec/test_dir@ 
    
then run: 
  
@ruby run.rb@

(this will create a folder called @build@ in the current directory, including the optimised project assets and stylesheets).  
